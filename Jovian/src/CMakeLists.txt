SET(foo_MOC_HDRS
	Console.h
	FileStatusWidget.h
        ReinforcementZoneWidget.h
	graphwidget.h
	viewingWindowQt
	QCustomPlot/qcustomplot.h
)

SET(foo_RCCS jovian.qrc)

# After this call, foo_MOC_SRCS = moc_Class1.cxx moc_Class2.cxx moc_Class3.cxx.
IF ( Qt5Widgets_FOUND )
    QT5_ADD_RESOURCES(foo_RCC_SRCS ${foo_RCCS})
ELSE()
    QT4_ADD_RESOURCES(foo_RCC_SRCS ${foo_RCCS})
ENDIF()

set(CMAKE_AUTOMOC ON)
set(CMAKE_AUTOUIC ON)

include_directories(${CMAKE_CURRENT_BINARY_DIR}) # For autogenerated UI file

SET(TARGET_SRC 
    Communicator.cpp
    Config_Memento.cpp
    Console.cpp
    BasicObstacleVisitor.cpp
    FileStatusWidget.cpp
    MyGraphicsWindowQt.cpp
    MotionCallback.cpp
    PunishmentRegionVisitor.cpp
    ReinforcementZoneWidget.cpp
    edge.cpp
    graphwidget.cpp
    hud.cpp
    node.cpp
    scene_model.cpp
    viewingWindowQt.cpp
    QCustomPlot/qcustomplot.cpp
    ${foo_MOC_SRCS}
    ${foo_RCC_SRCS}
)

SET(TARGET_H 
    BasicObstacleVisitor.h
    CameraUpdateCallback.h
    ColladaVisitor.h
    Communicator.h
    Config_Memento.h
    Console.h
    CrudeObstacleVisitor.h
    FileStatusWidget.h
    Globals.h
    Graph_Evaluator.h
    MyGraphicsWindowQt.h
    MotionCallback.h
    PunishmentRegionVisitor.h
    ReinforcementZoneWidget.h
    # UI_Console.h // autogenerated CMB
    ${foo_FORMS_HEADERS}
    edge.h
    graphwidget.h
    hud.h
    node.h
    scene_model.h
    shader_defs.h
    viewingWindowQt.h
    QCustomPlot/qcustomplot.h
)

file(GLOB API_HEADERS "api/*.h")
list(APPEND TARGET_H ${API_HEADERS})

source_group(Headers FILES ${TARGET_H})

#ADD_DEFINITIONS(-DUSE_QT4 -DQT_OPENGL_SUPPORT)

IF( QT4_FOUND )
  INCLUDE_DIRECTORIES( ${Jovian_SOURCE_DIR}/src ${OSG_INCLUDE_DIR}  ${QT_INCLUDE_DIR} ${QT_QTCORE_INCLUDE_DIR} ${QT_QTGUI_INCLUDE_DIR} ${QT_QTOPENGL_INCLUDE_DIR} ${QT_WIDGETS_INCLUDE_DIR} ${Boost_INCLUDE_DIRS})
ELSE()
  INCLUDE_DIRECTORIES( ${Jovian_SOURCE_DIR}/src ${OSG_INCLUDE_DIR}  ${Qt5Widgets_INCLUDE_DIRS} ${Qt5Gui_INCLUDE_DIRS} ${Qt5OpenGL_INCLUDE_DIRS} ${Qt5PrintSupport_INCLUDE_DIRS} ${Qt5SerialPort_INCLUDE_DIRS} ${Boost_INCLUDE_DIRS} )
ENDIF()

#### end var setup  ###
INCLUDE(OsgMacroUtils)
add_library( Jovian ${TARGET_SRC} ${TARGET_H} ) 

